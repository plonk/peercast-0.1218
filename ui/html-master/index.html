{^define LAYOUT layout.html}
{^define TITLE}{#_Information_navbar} - {#PeerCast on} {@if servMgr.serverName}{$servMgr.serverName}{@else}{$servMgr.serverIP}:{$servMgr.serverPort}{@end}{^end}

<p>
  {@if servMgr.disabled}
  <div align="center" class="normal">
    <p><strong><font color="#FF0000">Broadcasting has been disabled</font></strong></p>
    <p><strong><font color="#FF0000">Please contact peercast.org</font></strong></p>
  </div>
  {@end}
</p>

<DIV align=center class="reloader" data-url="index.html?fragment=content" data-interval="{$servMgr.refreshHTML}">
  {@fragment content}
  <TABLE align=center border=0>
    <TBODY>
      <TR align=middle>
        <TD vAlign=top> <TABLE width="100%" align=center border=0>
          <TBODY>
            <TR align=middle bgColor=#ccc>
              <TD colSpan=2 class="normal"><B>{#Information}</B></TD>
            </TR>
            <TR align=left bgColor=#eee class="normal">
              <TD>{#Server IP}</TD>
              <TD bgcolor="#eee">{$servMgr.serverIP}</TD>
            </TR>
            <TR align=left bgColor=#ddd class="normal">
              <TD>{#Uptime}</TD>
              <TD>{$servMgr.uptime}</TD>
            </TR>
            <TR align=left bgColor=#eee class="normal">
              <TD>{#Channel cache}</TD>
              <TD>{$chanMgr.numHitLists} - <a href="/admin?cmd=clear&amp;hitlists=1">{#Clear}</a></TD>
            </TR>
            <TR align=left bgColor=#ddd class="normal">
              <TD>{#Firewalled}</TD>
              <TD>{@if servMgr.firewallKnown} {@if servMgr.isFirewalled}
                {#Yes} {@else} {#No} {@end} {@else} {#Unknown} {@end} </TD>
            </TR>
            <TR align=left bgColor=#eee class="normal">
              <TD>{#XML stats}</TD>
              <TD bgcolor="#eee"><A href="/admin?cmd=viewxml">{#View}</A></TD>
            </TR>
            <tr align=left bgColor=#ddd class="normal">
              <td>{#YP Address}</td>
              <td>{$servMgr.ypAddress}</td>
            </tr>
            <TR align=left bgColor=#eee class="normal">
              <TD>{#Host options}</TD>
              <TD>{@if servMgr.isRoot}{#Root}{@end} {@if servMgr.isPrivate}{#Licensed}{@end} {@if servMgr.forceYP}{#ForceYP}{@end}</TD>
            </TR>
          </TBODY>
        </TABLE>
        <table width="100%" class="normal">
          <tr bgcolor="#ccc">
            <th colspan="2">{#Channel Feeds}</th>
          </tr>

          {@loop servMgr.numChannelFeeds}
          <tr bgcolor="{@if loop.indexEven}#ddd{@else}#eee{@end}">
            <td>{$loop.channelFeed.url}</td>
            <td align="center">{$loop.channelFeed.status}</td>
          </tr>
          {@end}
        </table>
        </TD>
        <TD vAlign=top> <TABLE width="100%" align=center border=0>
          <TBODY>
            <TR align=middle bgcolor="#ccc">
              <TD colSpan=4 class="normal"><B>{#Bandwidth}</B></TD>
            </TR>
            <TR align=left class="normal">
              <TD bgcolor="#eee"></TD>
              <TH bgcolor="#eee" style="text-align: center; width: 2.5em">{#In}</TH>
              <TH bgcolor="#eee" style="text-align: center; width: 2.5em">{#Out}</TH>
            </TR>
            <TR align=left class="normal">
              <TD bgcolor="#eee">{#Internet (Kbit/s)}</TD>
              <TD bgcolor="#eee" class="numeric">{$stats.wanInPerSec}</TD>
              <TD bgcolor="#eee" class="numeric">{$stats.wanOutPerSec}</TD>
            </TR>
            <TR align=left class="normal">
              <TD bgcolor="#ddd">{#Total (Kbit/s)}</TD>
              <TD bgcolor="#ddd" class="numeric">{$stats.totalInPerSec}</TD>
              <TD bgcolor="#ddd" class="numeric">{$stats.totalOutPerSec}</TD>
            </TR>
          </TBODY>
        </TABLE>
        <table width="100%" border="0">
          <tr bgcolor="#ccc">
            <td colspan="2"><div align="center" class="normal"><strong>{#Connections}</strong></div></td>
          </tr>
          <tr bgcolor="#ddd">
            <td width="66%" bgcolor="#ddd" class="normal">{#Direct}
            </td>
            <td width="34%" class="normal">{$servMgr.numDirect}</td>
          </tr>
          <tr bgcolor="#eee">
            <td bgcolor="#eee" class="normal">{#Relay}</td>
            <td class="normal">{$servMgr.numRelays}</td>
          </tr>
          <tr bgcolor="#ddd">
            <td class="normal">{#CIN / COUT}</td>
            <td bgcolor="#ddd" class="normal">{$servMgr.numCIN} / {$servMgr.numCOUT}</td>
          </tr>
          <tr bgcolor="#eee">
            <td class="normal">{#Incoming}</td>
            <td bgcolor="#ddd" class="normal">{$servMgr.numIncoming}</td>
          </tr>
          <tr bgcolor="#ddd">
            <td class="normal">{#Port} {$servMgr.serverPort1} / {$servMgr.serverPort2}</td>
            <td class="normal">{$servMgr.numActive1} / {$servMgr.numActive2}</td>
          </tr>
        </table>
        </TD>
      </TR>
    </TBODY>
  </TABLE>
  {@end}
</DIV>
